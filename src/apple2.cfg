# cc65 Linker Configuration for Apple II Mockingboard Player
# Binary loads at $9000 (safe area above music data)
# Music at $4000 can be up to 20KB ($4000-$8FFF)

FEATURES {
    STARTADDRESS: default = $9000;
}

SYMBOLS {
    __STACKSIZE__: type = weak, value = $0200;
}

MEMORY {
    # Zero page
    ZP:      file = "", start = $0080, size = $0020;

    # Header area (load address bytes)
    HEADER:  file = %O, start = $8FFE, size = $0002;

    # Main program area
    MAIN:    file = %O, start = $9000, size = $0600;
}

SEGMENTS {
    # Zero page variables
    ZEROPAGE: load = ZP,     type = zp;

    # Load address header for ProDOS
    HEADER:   load = HEADER, type = ro;

    # Startup code
    STARTUP:  load = MAIN,   type = ro;

    # Main code
    CODE:     load = MAIN,   type = ro;

    # Read-only data (music data)
    RODATA:   load = MAIN,   type = ro;

    # Initialized data
    DATA:     load = MAIN,   type = rw;

    # Uninitialized data (placed after DATA in MAIN)
    BSS:      load = MAIN,   type = bss;
}
